C51 COMPILER V9.53.0.0   MAIN                                                              04/14/2019 16:56:33 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\keil\C51\BIN\C51.EXE SRC\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\INC) DEBUG OBJECTEXTEND PRINT(
                    -.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "reg52.h"
   2          #include "NRF24L01.h"
   3          sbit KEY3=P3^7;
   4          sbit KEY4=P3^6;
   5          sbit KEY5=P3^5;
   6          sbit KEY6=P3^4;
   7          sbit LED1=P1^0;
   8          sbit LED2=P1^1;
   9          
  10          
  11          
  12          void Delay200us()       ;       //@11.0592MHz
  13          
  14          void main()
  15          {
  16   1          unsigned char TXBUFF[]={112,112,112,112};
  17   1          unsigned char RXBUFF[4];
  18   1          KEY3=1;
  19   1          LED1=1;
  20   1          init_NRF24L01();
  21   1          LED1=0;
  22   1          while(1)
  23   1          {
  24   2              if(KEY3==0)
  25   2              {
  26   3                  TXBUFF[0]=101;TXBUFF[1]=101;TXBUFF[2]=101;TXBUFF[3]=101;
  27   3              }
  28   2              else if(KEY4==0)
  29   2              {
  30   3                  TXBUFF[0]=102;TXBUFF[1]=102;TXBUFF[2]=102;TXBUFF[3]=102;
  31   3              }
  32   2              else if(KEY5==0)
  33   2              {
  34   3                  TXBUFF[0]=103;TXBUFF[1]=103;TXBUFF[2]=103;TXBUFF[3]=103;
  35   3              }
  36   2              else if(KEY6==0)
  37   2              {
  38   3                  TXBUFF[0]=104;TXBUFF[1]=104;TXBUFF[2]=104;TXBUFF[3]=104;
  39   3              }
  40   2              if(RXBUFF[0]==00)//桩已经收下状态
  41   2              {
  42   3                  LED1=1;
  43   3                  LED2=0;
  44   3              }
  45   2              else if(RXBUFF[0]==11)//桩已经伸出状态
  46   2              {
  47   3                  LED1=0;
  48   3                  LED2=1;
  49   3              }
  50   2              else if(RXBUFF[0]==22)//桩正在收入/伸出
  51   2              {
  52   3                  LED1=0;
  53   3                  LED2=0;
  54   3              }
C51 COMPILER V9.53.0.0   MAIN                                                              04/14/2019 16:56:33 PAGE 2   

  55   2              else if(RXBUFF[0]==33)//桩卡住
  56   2              {
  57   3                  LED1=1;
  58   3                  LED2=1;
  59   3              }
  60   2              nRF24L01_TX_Mode(TXBUFF);Delay200us();
  61   2              nRF24L01_RX_Mode(RXBUFF);Delay200us();
  62   2          }
  63   1      }
  64          
  65          void Delay200us()               //@11.0592MHz
  66          {
  67   1              unsigned char i, j;
  68   1      
  69   1              i = 3;
  70   1              j = 35;
  71   1              do
  72   1              {
  73   2                      while (--j);
  74   2              } while (--i);
  75   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    171    ----
   CONSTANT SIZE    =      4    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
